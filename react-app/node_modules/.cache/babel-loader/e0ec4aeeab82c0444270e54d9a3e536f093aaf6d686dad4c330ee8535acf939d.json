{"ast":null,"code":"import _objectSpread from\"C:/Users/danny/Desktop/Elation42/E42/resources/ItemCustomizer/react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef}from'react';import{motion}from'framer-motion';import{FileCode,Hammer,Image,GitCompare,Upload,Download,RefreshCw,Wand2,ClipboardCopy}from'lucide-react';// =====================\n// Helper (pure) functions\n// =====================\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PLACEHOLDER_DESC='this item label was made in kuro item customizer this is just a place holder for missing descriptions';function suggestFromName(name){const key=(name||'').trim().toLowerCase().replace(/[^a-z0-9_\\-]/g,'_');let label=(name||'').replace(/_/g,' ').trim();if(label)label=label.charAt(0).toUpperCase()+label.slice(1);let type='item';let weight=100;if(/weapon|rifle|pistol/i.test(key)){type='weapon';weight=2000;}else if(/burger|food|apple/i.test(key)){type='food';weight=100;}return{key,label,weight,type,image:key?\"\".concat(key,\".png\"):''};}function extractString(body,propNames){let def=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';const arr=Array.isArray(propNames)?propNames:[propNames];for(const k of arr){const m1=body.match(new RegExp(\"\".concat(k,\"\\\\s*=\\\\s*'([^']*)'\")));if(m1)return m1[1];const m2=body.match(new RegExp(\"\\\\['\".concat(k,\"'\\\\]\\\\s*=\\\\s*'([^']*)'\")));if(m2)return m2[1];}return def;}function extractNumber(body,propName){let def=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;const m=body.match(new RegExp(\"\".concat(propName,\"\\\\s*=\\\\s*([0-9]+)\")));return m?Number(m[1]):def;}function extractBoolean(body,propName,def){const mTrue=new RegExp(\"\".concat(propName,\"\\\\s*=\\\\s*true\")).test(body);const mFalse=new RegExp(\"\".concat(propName,\"\\\\s*=\\\\s*false\")).test(body);if(mTrue)return true;if(mFalse)return false;return def;}function parseItemsFromLua(text){const items=[];if(!text)return items;// Check if this is optimized format with add_item() calls\nif(text.includes('add_item(')){return parseOptimizedFormat(text);}const collect=(key,body)=>{const label=extractString(body,['label',\"['label']\"],key);const weight=extractNumber(body,'weight',0);const type=extractString(body,'type','item');const image=extractString(body,'image',\"\".concat(key,\".png\"));const unique=extractBoolean(body,'unique',false);const useable=extractBoolean(body,'useable',true);const shouldClose=extractBoolean(body,'shouldClose',true);const descRaw=extractString(body,'description','');const description=descRaw||(label?label:PLACEHOLDER_DESC);items.push({key,label,weight,type,image,unique,useable,shouldClose,description});};// Enhanced parsing for QB items\n// Pattern A: ['key'] = { ... } with proper brace matching\nconst lines=text.split('\\n');let i=0;while(i<lines.length){const line=lines[i].trim();// Check for item definition\nconst itemMatch=line.match(/\\['?([^'\\]]+)'?\\]\\s*=\\s*\\{/)||line.match(/^([a-z0-9_\\-]+)\\s*=\\s*\\{/);if(itemMatch){const key=itemMatch[1];let braceCount=1;let bodyLines=[];i++;// Collect the entire item body\nwhile(i<lines.length&&braceCount>0){const currentLine=lines[i];bodyLines.push(currentLine);// Count braces to find the end\nconst openBraces=(currentLine.match(/\\{/g)||[]).length;const closeBraces=(currentLine.match(/\\}/g)||[]).length;braceCount+=openBraces-closeBraces;i++;}const body=bodyLines.join('\\n');collect(key,body);}else{i++;}}return items;}function parseOptimizedFormat(text){const items=[];// Parse add_item('key', 'label', weight, 'type', 'image', unique, useable, 'description')\nconst addItemPattern=/add_item\\(\\s*'([^']*)',\\s*'([^']*)',\\s*(\\d+),\\s*'([^']*)',\\s*'([^']*)',\\s*(true|false),\\s*(true|false),\\s*'([^']*)'\\s*\\)/g;let match;while(match=addItemPattern.exec(text)){const[,key,label,weight,type,image,unique,useable,description]=match;items.push({key,label,weight:parseInt(weight),type,image,unique:unique==='true',useable:useable==='true',shouldClose:true,description:description||label||PLACEHOLDER_DESC});}return items;}function toOptimized(items){return items.map(_ref=>{let{key,label,weight,type,image,unique,useable,description}=_ref;return\"add_item('\".concat(key,\"', '\").concat((label||'').replace(/'/g,\"\\\\'\"),\"', \").concat(Number(weight)||0,\", '\").concat(type,\"', '\").concat(image,\"', \").concat(!!unique,\", \").concat(!!useable,\", '\").concat((description||'').replace(/'/g,\"\\\\'\"),\"')\");}).join('\\n');}function toPipe(items){return items.map(_ref2=>{let{key,label,weight,type,image,unique,useable,description}=_ref2;return\"\".concat(key,\" | \").concat(label,\" | \").concat(Number(weight)||0,\" | \").concat(type,\" | \").concat(image,\" | \").concat(!!unique,\" | \").concat(!!useable,\" | \").concat(description);}).join('\\n');}function toJson(items){return items.map(_ref3=>{let{key,label,weight,type,image,unique,useable,shouldClose,description}=_ref3;return JSON.stringify({name:key,label,weight:Number(weight)||0,type,image,unique:!!unique,useable:!!useable,shouldClose:!!shouldClose,description});}).join('\\n');}function toOriginalFlat(items){return items.map(_ref4=>{let{key,label,weight,type,image,unique,useable,shouldClose,description}=_ref4;return\"['\".concat(key,\"'] = { name = '\").concat(key,\"', label = '\").concat(label,\"', weight = \").concat(Number(weight)||0,\", type = '\").concat(type,\"', image = '\").concat(image,\"', unique = \").concat(!!unique,\", useable = \").concat(!!useable,\", shouldClose = \").concat(!!shouldClose,\", description = '\").concat((description||'').replace(/'/g,\"\\\\'\"),\"' }\");}).join('\\n');}function toOX(items){let output='return {\\n';items.forEach(_ref5=>{let{key,label,weight,type,image,unique,useable,description}=_ref5;output+=\"\\t['\".concat(key,\"'] = {\\n\");output+=\"\\t\\tlabel = '\".concat(label||key,\"',\\n\");// Add weight if different from default\nif(weight&&weight!==100){output+=\"\\t\\tweight = \".concat(Number(weight)||100,\",\\n\");}// Add stack property (opposite of unique)\nif(!unique){output+=\"\\t\\tstack = true,\\n\";}// Add consume if useable\nif(useable){output+=\"\\t\\tconsume = 0.3,\\n\";}// Client block\noutput+=\"\\t\\tclient = {\\n\";output+=\"\\t\\t\\timage = '\".concat(image||key+'.png',\"',\\n\");if(useable){output+=\"\\t\\t\\tusetime = 2500,\\n\";output+=\"\\t\\t\\tnotification = 'You used \".concat(label||key,\"',\\n\");}// Add description as status if available\nif(description&&description!==label&&description!==PLACEHOLDER_DESC){output+=\"\\t\\t\\t-- description = '\".concat(description.replace(/'/g,\"\\\\'\"),\"',\\n\");}output+=\"\\t\\t},\\n\";// Server block only if useable\nif(useable){output+=\"\\t\\tserver = {\\n\";output+=\"\\t\\t\\texport = 'your_resource.\".concat(key,\"'\\n\");output+=\"\\t\\t},\\n\";}output+=\"\\t},\\n\\n\";});output+='}\\n';return output;}function parseOXItems(text){const items=[];if(!text)return items;// Parse OX format: ['item_key'] = { ... }\nconst oxPattern=/\\['([^']+)'\\]\\s*=\\s*\\{([^}]+(?:\\{[^}]*\\}[^}]*)*)\\}/g;let match;while(match=oxPattern.exec(text)){const key=match[1];const body=match[2];const label=extractString(body,'label',key);const weight=extractNumber(body,'weight',100);const consume=extractNumber(body,'consume',0);const stack=extractBoolean(body,'stack',true);const usetime=extractNumber(body,'usetime',0);const image=extractString(body,'image',\"\".concat(key,\".png\"));items.push({key,label,weight,type:'item',image,unique:!stack,useable:consume>0||usetime>0,shouldClose:true,description:label});}return items;}function parsePipeFormat(text){const items=[];const lines=text.split('\\n');for(let i=0;i<lines.length;i++){const line=lines[i].trim();if(!line||line.includes('key|label|weight'))continue;// Skip header\nconst parts=line.split('|').map(part=>part.trim());if(parts.length>=7){const[key,label,weight,type,image,unique,useable,...descParts]=parts;const description=descParts.join('|').trim();items.push({key,label:label||key,weight:parseInt(weight)||100,type:type||'item',image:image||\"\".concat(key,\".png\"),unique:unique==='true',useable:useable==='true',shouldClose:true,description:description||label||PLACEHOLDER_DESC});}}return items;}function parseJsonFormat(text){const items=[];try{let jsonData;// Try parsing as array first\nif(text.trim().startsWith('[')){jsonData=JSON.parse(text);if(Array.isArray(jsonData)){jsonData.forEach(item=>{items.push({key:item.name||item.key||'unknown',label:item.label||item.name||item.key||'Unknown',weight:item.weight||100,type:item.type||'item',image:item.image||\"\".concat(item.key||item.name,\".png\"),unique:!!item.unique,useable:!!item.useable,shouldClose:item.shouldClose!==false,description:item.description||item.label||PLACEHOLDER_DESC});});}}else{// Try parsing as single object\njsonData=JSON.parse(text);if(jsonData&&typeof jsonData==='object'){items.push({key:jsonData.name||jsonData.key||'unknown',label:jsonData.label||jsonData.name||jsonData.key||'Unknown',weight:jsonData.weight||100,type:jsonData.type||'item',image:jsonData.image||\"\".concat(jsonData.key||jsonData.name,\".png\"),unique:!!jsonData.unique,useable:!!jsonData.useable,shouldClose:jsonData.shouldClose!==false,description:jsonData.description||jsonData.label||PLACEHOLDER_DESC});}}}catch(error){console.error('JSON parsing error:',error);}return items;}function parseAndConvert(inputText,format){// Universal parser - detects input format automatically\nconst items=parseAnyFormat(inputText);let out='';switch(format){case'optimized':out=toOptimized(items);break;case'pipe':out=toPipe(items);break;case'json':out=toJson(items);break;case'ox':out=toOX(items);break;case'original':default:out=toOriginalFlat(items);}return{out,count:items.length};}function parseAnyFormat(text){if(!text||!text.trim())return[];const trimmedText=text.trim();// Detect format and parse accordingly\nif(trimmedText.includes('add_item(')){console.log('Detected: Optimized format');return parseOptimizedFormat(text);}if(trimmedText.includes('return {')&&trimmedText.includes('client = {')){console.log('Detected: OX Inventory format');return parseOXItems(text);}if(trimmedText.includes('|')&&trimmedText.split('\\n').some(line=>line.split('|').length>5)){console.log('Detected: Pipe delimited format');return parsePipeFormat(text);}if(trimmedText.startsWith('[')&&trimmedText.includes('\"name\"')||trimmedText.startsWith('{')&&trimmedText.includes('\"key\"')){console.log('Detected: JSON format');return parseJsonFormat(text);}// Default to standard QB format\nconsole.log('Detected: Standard QB format');return parseItemsFromLua(text);}// Simple image helpers\nfunction readFileAsDataURL(file){return new Promise((res,rej)=>{const r=new FileReader();r.onload=()=>res(r.result);r.onerror=rej;r.readAsDataURL(file);});}function dataURLToBlob(dataURL){var _exec;const[head,body]=String(dataURL).split(',');const mime=((_exec=/data:(.*?);/.exec(head))===null||_exec===void 0?void 0:_exec[1])||'image/png';const bstr=atob(body);const u8=new Uint8Array(bstr.length);for(let i=0;i<bstr.length;i++)u8[i]=bstr.charCodeAt(i);return new Blob([u8],{type:mime});}function resizeDataUrl(dataUrl,targetWidth,targetHeight){let maintainRatio=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;return new Promise(res=>{const img=new Image();img.onload=()=>{const c=document.createElement('canvas');const ctx=c.getContext('2d');if(maintainRatio){// Smart resize: maintain aspect ratio, fit within bounds, center on transparent background\nconst imgAspect=img.width/img.height;const targetAspect=targetWidth/targetHeight;let drawWidth,drawHeight,offsetX=0,offsetY=0;if(imgAspect>targetAspect){// Image is wider - fit to width\ndrawWidth=targetWidth;drawHeight=targetWidth/imgAspect;offsetY=(targetHeight-drawHeight)/2;}else{// Image is taller - fit to height\ndrawHeight=targetHeight;drawWidth=targetHeight*imgAspect;offsetX=(targetWidth-drawWidth)/2;}c.width=targetWidth;c.height=targetHeight;// Clear with transparent background\nctx.clearRect(0,0,targetWidth,targetHeight);// Draw image centered\nctx.drawImage(img,offsetX,offsetY,drawWidth,drawHeight);}else{// Stretch mode (old behavior)\nc.width=targetWidth;c.height=targetHeight;ctx.drawImage(img,0,0,targetWidth,targetHeight);}res(c.toDataURL('image/png'));};img.src=dataUrl;});}export default function ItemCustomizer(){const[showWelcome,setShowWelcome]=useState(true);const[tab,setTab]=useState('converter');const[fileText,setFileText]=useState('');const[outputText,setOutputText]=useState('');const[processing,setProcessing]=useState(false);const[progress,setProgress]=useState(0);const[itemsFound,setItemsFound]=useState(0);const[format,setFormat]=useState('optimized');const fileInputRef=useRef(null);const[builder,setBuilder]=useState({key:'',label:'',weight:100,type:'item',image:''});const[images,setImages]=useState([]);const[resizeProgress,setResizeProgress]=useState(0);const[processingImages,setProcessingImages]=useState(false);const[resizedPreviews,setResizedPreviews]=useState([]);const[maintainRatio,setMaintainRatio]=useState(true);const[diffBefore,setDiffBefore]=useState('');const[diffAfter,setDiffAfter]=useState('');function readFileAsText(file){return new Promise((res,rej)=>{const r=new FileReader();r.onload=()=>res(r.result);r.onerror=rej;r.readAsText(file);});}async function handleUpload(e){var _e$target$files;const f=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!f)return;const txt=await readFileAsText(f);setFileText(txt);setDiffBefore(txt);const parsed=parseItemsFromLua(txt);setItemsFound(parsed.length);}async function convert(){if(!fileText)return;setProcessing(true);setProgress(0);setOutputText('');try{// Simulate progress\nfor(let i=0;i<5;i++){await new Promise(r=>setTimeout(r,100));setProgress(Math.round((i+1)/5*100));}const{out,count}=parseAndConvert(fileText,format);setItemsFound(count);setOutputText(out||'-- No items detected. Ensure your file uses a supported format. --');setDiffAfter(out);}catch(error){console.error('Conversion error:',error);setOutputText(\"-- Error during conversion: \".concat(error.message,\" --\"));}finally{setProcessing(false);setProgress(100);}}function downloadOutput(){if(!outputText)return;const blob=new Blob([outputText],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=format==='json'?'converted_items.json':format==='pipe'?'converted_items.txt':'converted_items.lua';a.click();URL.revokeObjectURL(url);}function onBuilderNameChange(val){// Only auto-suggest if this is a new key (empty or completely different)\nconst isNewKey=!builder.key||val.length<=1;if(isNewKey){const suggestions=suggestFromName(val);setBuilder(prev=>_objectSpread(_objectSpread({},prev),{},{key:val,// Use actual input value\nlabel:suggestions.label,weight:suggestions.weight,type:suggestions.type,image:suggestions.image}));}else{// Just update the key, keep other fields as user set them\nsetBuilder(prev=>_objectSpread(_objectSpread({},prev),{},{key:val}));}}function buildItem(){const desc=builder.label?builder.label:PLACEHOLDER_DESC;const originalBlock=\"['\".concat(builder.key,\"'] = { name = '\").concat(builder.key,\"', label = '\").concat(builder.label,\"', weight = \").concat(Number(builder.weight)||0,\", type = '\").concat(builder.type,\"', image = '\").concat(builder.image,\"', unique = false, useable = true, shouldClose = true, description = '\").concat((desc||'').replace(/'/g,\"\\\\'\"),\"' }\");const{out}=parseAndConvert(originalBlock,format);setOutputText(out);setDiffAfter(out);}function onDropImages(e){var _e$dataTransfer;e.preventDefault();const files=Array.from(((_e$dataTransfer=e.dataTransfer)===null||_e$dataTransfer===void 0?void 0:_e$dataTransfer.files)||e.target.files||[]);const imgs=files.filter(f=>f.type.startsWith('image/'));setImages(imgs);}function handleResizeClick(){if(images.length>0){// If images are already selected, resize them\nresizeAll();}else{var _document$getElementB;// If no images, open file browser\n(_document$getElementB=document.getElementById('imgIn'))===null||_document$getElementB===void 0?void 0:_document$getElementB.click();}}async function processImages(){if(!images.length){alert('Please select images first!');return;}setProcessingImages(true);setResizeProgress(0);const total=images.length;const previews=[];try{for(let i=0;i<images.length;i++){const file=images[i];console.log(\"Processing \".concat(file.name,\"...\"));const dataUrl=await readFileAsDataURL(file);const resized=await resizeDataUrl(dataUrl,100,100,maintainRatio);previews.push({name:file.name,original:dataUrl,resized:resized,blob:dataURLToBlob(resized)});setResizeProgress(Math.round((i+1)/total*100));// Small delay for smooth progress\nawait new Promise(r=>setTimeout(r,50));}setResizedPreviews(previews);alert(\"Successfully processed \".concat(total,\" images! Review and download below.\"));}catch(error){console.error('Processing error:',error);alert('Error processing images: '+error.message);}finally{setProcessingImages(false);}}function downloadAllResized(){if(!resizedPreviews.length){alert('No processed images to download!');return;}resizedPreviews.forEach((preview,index)=>{setTimeout(()=>{const url=URL.createObjectURL(preview.blob);const a=document.createElement('a');a.href=url;a.download=\"resized_\".concat(preview.name.replace(/\\.[^/.]+$/,'.png'));document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);},index*200);// Stagger downloads\n});}function downloadSingleResized(preview){const url=URL.createObjectURL(preview.blob);const a=document.createElement('a');a.href=url;a.download=\"resized_\".concat(preview.name.replace(/\\.[^/.]+$/,'.png'));document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}async function resizeAll(){// Legacy function for backward compatibility\nawait processImages();}// ==== Subcomponents ====\nconst Header=()=>/*#__PURE__*/_jsx(motion.header,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-9 w-9 rounded-xl bg-gradient-to-br from-kuro-green to-kuro-purple shadow-lg shadow-emerald-500/10\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl md:text-2xl font-semibold tracking-tight text-white\",children:\"Kuro Item Customizer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Convert \\u2022 Build \\u2022 Resize \\u2022 Diff \\u2014 blazing-fast, zero deps\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center text-sm text-gray-300\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded-full bg-white/5 border border-white/10\",children:[itemsFound,\" items\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded-full bg-white/5 border border-white/10\",children:[\"Format: \",format]})]})]})});const Tabs=()=>/*#__PURE__*/_jsx(motion.nav,{initial:{opacity:0},animate:{opacity:1},className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 items-center\",children:[[{key:'converter',label:'Converter',icon:/*#__PURE__*/_jsx(FileCode,{size:16})},{key:'builder',label:'Item Builder',icon:/*#__PURE__*/_jsx(Hammer,{size:16})},{key:'images',label:'Image Resizer',icon:/*#__PURE__*/_jsx(Image,{size:16})},{key:'diff',label:'Diff Viewer',icon:/*#__PURE__*/_jsx(GitCompare,{size:16})}].map(t=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTab(t.key),className:\"group px-4 py-2 rounded-xl border text-sm flex items-center gap-2 transition \".concat(tab===t.key?'bg-gradient-to-r from-kuro-green/20 to-kuro-purple/20 border-kuro-green/40 text-white':'bg-white/5 border-white/10 hover:border-white/20 text-gray-300'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(tab===t.key?'text-kuro-green':'text-gray-300 group-hover:text-white'),children:t.icon}),t.label]},t.key)),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto flex gap-2 items-center\",children:[/*#__PURE__*/_jsxs(\"select\",{value:format,onChange:e=>setFormat(e.target.value),className:\"bg-gray-800 border border-white/10 px-3 py-2 rounded-xl text-sm text-white focus:outline-none focus:ring-2 focus:ring-kuro-green/40\",style:{backgroundImage:\"url(\\\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e\\\")\",backgroundRepeat:'no-repeat',backgroundPosition:'right 8px center',backgroundSize:'16px',paddingRight:'32px',appearance:'none'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"optimized\",style:{backgroundColor:'#1f2937',color:'white'},children:\"Optimized (recommended)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"original\",style:{backgroundColor:'#1f2937',color:'white'},children:\"Original Block\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pipe\",style:{backgroundColor:'#1f2937',color:'white'},children:\"Compact Pipe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"json\",style:{backgroundColor:'#1f2937',color:'white'},children:\"JSON\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ox\",style:{backgroundColor:'#1f2937',color:'white'},children:\"OX Inventory\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"px-3 py-2 rounded-xl bg-gradient-to-r from-kuro-green to-kuro-purple text-sm font-medium shadow-lg shadow-emerald-500/20 flex items-center gap-2 text-white\",children:[/*#__PURE__*/_jsx(Upload,{size:16}),\" Upload items.lua\"]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".lua,.txt\",onChange:handleUpload,className:\"hidden\"})]})]})});const Converter=()=>/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300\",children:\"Input (items.lua)\"}),/*#__PURE__*/_jsx(\"kbd\",{className:\"text-[10px] px-2 py-1 rounded bg-black/40 border border-white/10 text-gray-300\",children:\"Ctrl + V\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:fileText,onChange:e=>setFileText(e.target.value),rows:14,className:\"w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 focus:outline-none focus:ring-2 focus:ring-kuro-green/40 text-white\"})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300\",children:\"Output\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigator.clipboard.writeText(outputText),disabled:!outputText,className:\"text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300\",children:[/*#__PURE__*/_jsx(ClipboardCopy,{size:14}),\" Copy\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:downloadOutput,disabled:!outputText,className:\"text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300\",children:[/*#__PURE__*/_jsx(Download,{size:14}),\" Download\"]})]})]}),/*#__PURE__*/_jsx(\"textarea\",{value:outputText,readOnly:true,rows:14,className:\"w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 text-green-400\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mt-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:convert,disabled:processing||!fileText,className:\"px-4 py-2 rounded-xl font-medium shadow-lg flex items-center gap-2 text-white transition-all \".concat(processing||!fileText?'bg-gray-600 cursor-not-allowed':'bg-gradient-to-r from-kuro-green to-kuro-purple shadow-emerald-500/20 hover:shadow-emerald-500/30'),children:[/*#__PURE__*/_jsx(Wand2,{size:16}),\" \",processing?'Converting...':'Convert']}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-2 rounded-full bg-white/10 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-kuro-green transition-all duration-300\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300 w-16 text-right\",children:[progress,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mt-3 flex items-start gap-2\",children:[\"\\u26A0\\uFE0F \",/*#__PURE__*/_jsx(\"span\",{children:\"Parser reads unique/useable/shouldClose from source. Missing description falls back to label, then placeholder.\"})]})]});const Builder=()=>/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300\",children:\"Item Key\"}),/*#__PURE__*/_jsx(\"input\",{value:builder.key,onChange:e=>onBuilderNameChange(e.target.value),placeholder:\"custom_weapon\",className:\"w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-kuro-green/40 text-white\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300 mt-3 block\",children:\"Label\"}),/*#__PURE__*/_jsx(\"input\",{value:builder.label,onChange:e=>setBuilder(v=>_objectSpread(_objectSpread({},v),{},{label:e.target.value})),className:\"w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-kuro-green/40 text-white\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2 mt-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:builder.weight,onChange:e=>setBuilder(v=>_objectSpread(_objectSpread({},v),{},{weight:Number(e.target.value)})),className:\"p-2 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:ring-2 focus:ring-kuro-green/40 text-white\"}),/*#__PURE__*/_jsx(\"input\",{value:builder.type,onChange:e=>setBuilder(v=>_objectSpread(_objectSpread({},v),{},{type:e.target.value})),className:\"p-2 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:ring-2 focus:ring-kuro-green/40 text-white\"}),/*#__PURE__*/_jsx(\"input\",{value:builder.image,onChange:e=>setBuilder(v=>_objectSpread(_objectSpread({},v),{},{image:e.target.value})),className:\"p-2 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:ring-2 focus:ring-kuro-green/40 text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:buildItem,className:\"px-4 py-2 rounded-xl bg-gradient-to-r from-kuro-green to-kuro-purple font-medium shadow-lg shadow-emerald-500/20 text-white\",children:\"Build Item\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setBuilder({key:'',label:'',weight:100,type:'item',image:''});setOutputText('');},className:\"px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-300\",children:\"Clear\"})]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm overflow-auto font-mono border border-white/10 text-green-400\",children:outputText||'-- built item will show here --'})]})]})});const ImagesTab=()=>/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},onDragOver:e=>e.preventDefault(),onDrop:onDropImages,className:\"border-2 border-dashed border-white/15 p-6 rounded-xl text-center bg-black/20\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"Drag & drop images here or\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _document$getElementB2;return(_document$getElementB2=document.getElementById('imgIn'))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.click();},className:\"underline text-kuro-green\",children:\"browse\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"imgIn\",type:\"file\",multiple:true,accept:\"image/*\",onChange:onDropImages,className:\"hidden\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-xs text-gray-400\",children:[images.length,\" image(s) ready\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex items-center justify-center gap-2\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-sm text-gray-300\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:maintainRatio,onChange:e=>setMaintainRatio(e.target.checked),className:\"rounded border-white/20 bg-white/10 text-kuro-green focus:ring-kuro-green\"}),\"Smart resize (maintain aspect ratio)\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 justify-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleResizeClick,disabled:processingImages,className:\"px-4 py-2 rounded-xl bg-gradient-to-r from-kuro-green to-kuro-purple font-medium shadow-lg shadow-emerald-500/20 text-white disabled:opacity-50\",children:images.length>0?'Select & Resize Images':'Select Images'}),/*#__PURE__*/_jsx(\"button\",{onClick:processImages,disabled:processingImages||!images.length,className:\"px-4 py-2 rounded-xl bg-blue-600 hover:bg-blue-700 font-medium text-white disabled:opacity-50\",children:processingImages?'Processing...':'Process Images'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setImages([]);setResizedPreviews([]);setResizeProgress(0);},className:\"px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-300\",children:\"Clear All\"})]}),(processingImages||resizeProgress>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/10 h-2 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(motion.div,{initial:{width:0},animate:{width:\"\".concat(resizeProgress,\"%\")},className:\"h-full bg-kuro-green\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:[resizeProgress,\"% complete\"]})]}),resizedPreviews.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border-t border-white/10 pt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-white\",children:[\"Processed Images (\",resizedPreviews.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadAllResized,className:\"px-4 py-2 rounded-xl bg-green-600 hover:bg-green-700 font-medium text-white\",children:\"Download All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto\",children:resizedPreviews.map((preview,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-white mb-2\",children:preview.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mb-1\",children:\"Original\"}),/*#__PURE__*/_jsx(\"img\",{src:preview.original,alt:\"Original\",className:\"w-16 h-16 object-cover rounded border border-white/20\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mb-1\",children:\"Resized (100x100)\"}),/*#__PURE__*/_jsx(\"img\",{src:preview.resized,alt:\"Resized\",className:\"w-16 h-16 object-cover rounded border border-white/20\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadSingleResized(preview),className:\"px-3 py-2 rounded-lg bg-kuro-green hover:bg-kuro-green/80 text-white text-sm\",children:/*#__PURE__*/_jsx(Download,{size:16})})]})},index))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 grid grid-cols-2 md:grid-cols-6 gap-2\",children:images.map((f,i)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:\"bg-[#0b0f1a] p-2 rounded-lg text-xs text-gray-300 border border-white/10 truncate\",children:f.name},i))})]});const DiffTab=()=>/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300\",children:\"Before\"}),/*#__PURE__*/_jsx(\"textarea\",{value:diffBefore,onChange:e=>setDiffBefore(e.target.value),rows:14,className:\"w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 text-white\"})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-300\",children:\"After\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDiffAfter(outputText),className:\"text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300\",children:[/*#__PURE__*/_jsx(RefreshCw,{size:14}),\" From Output\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigator.clipboard.writeText(diffAfter),className:\"text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300\",children:[/*#__PURE__*/_jsx(ClipboardCopy,{size:14}),\" Copy\"]})]})]}),/*#__PURE__*/_jsx(\"textarea\",{value:diffAfter,onChange:e=>setDiffAfter(e.target.value),rows:14,className:\"w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 text-green-400\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-xs text-gray-400\",children:\"Review changes before replacing your server file. Always keep a backup.\"})]});// Welcome Screen Component\nconst WelcomeScreen=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen relative bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-[#0b1220] via-[#0b0f1a] to-black text-gray-100 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pointer-events-none absolute inset-0 opacity-20 [mask-image:radial-gradient(transparent,black)]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,.06)_1px,transparent_1px),linear-gradient(rgba(255,255,255,.06)_1px,transparent_1px)] bg-[size:32px_32px]\"})}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.8},className:\"relative text-center max-w-2xl px-8\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:0.2,duration:0.6},className:\"w-32 h-32 mx-auto mb-8 rounded-3xl bg-gradient-to-br from-kuro-green to-kuro-purple shadow-2xl shadow-emerald-500/20 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl\",children:\"\\uD83D\\uDEE0\\uFE0F\"})}),/*#__PURE__*/_jsx(motion.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:0.4,duration:0.6},className:\"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent\",children:\"Kuro Item Customizer\"}),/*#__PURE__*/_jsxs(motion.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:0.6,duration:0.6},className:\"text-xl text-gray-300 mb-12 leading-relaxed\",children:[\"The ultimate tool for FiveM item management.\",/*#__PURE__*/_jsx(\"br\",{}),\"Convert \\u2022 Build \\u2022 Resize \\u2022 Compare \\u2014 blazing-fast, zero dependencies.\"]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:0.8,duration:0.6},className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWelcome(false),className:\"px-8 py-4 bg-gradient-to-r from-kuro-green to-kuro-purple text-white font-semibold rounded-2xl shadow-2xl shadow-emerald-500/25 hover:shadow-emerald-500/40 transition-all duration-300 transform hover:scale-105\",children:\"Get Started\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-8 text-sm text-gray-400 mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-kuro-green rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"QB \\u2194 OX Conversion\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-kuro-purple rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"5 Export Formats\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-blue-400 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Image Resizing\"})]})]})]})]})]});if(showWelcome){return/*#__PURE__*/_jsx(WelcomeScreen,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen relative bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-[#0b1220] via-[#0b0f1a] to-black text-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pointer-events-none absolute inset-0 opacity-20 [mask-image:radial-gradient(transparent,black)]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,.06)_1px,transparent_1px),linear-gradient(rgba(255,255,255,.06)_1px,transparent_1px)] bg-[size:32px_32px]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Tabs,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-4 md:p-5 shadow-xl shadow-black/30\",children:[tab==='converter'&&/*#__PURE__*/_jsx(Converter,{}),tab==='builder'&&/*#__PURE__*/_jsx(Builder,{}),tab==='images'&&/*#__PURE__*/_jsx(ImagesTab,{}),tab==='diff'&&/*#__PURE__*/_jsx(DiffTab,{})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"mt-6 text-xs text-gray-400 flex flex-wrap items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Made for QBCore item conversion.\"}),/*#__PURE__*/_jsx(\"span\",{className:\"opacity-50\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"No flashing animations (epilepsy\\u2011safe).\"}),/*#__PURE__*/_jsx(\"span\",{className:\"opacity-50\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Fav accent: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-kuro-green\",children:\"#55fa9a\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useRef","motion","FileCode","Hammer","Image","GitCompare","Upload","Download","RefreshCw","Wand2","ClipboardCopy","jsx","_jsx","jsxs","_jsxs","PLACEHOLDER_DESC","suggestFromName","name","key","trim","toLowerCase","replace","label","charAt","toUpperCase","slice","type","weight","test","image","concat","extractString","body","propNames","def","arguments","length","undefined","arr","Array","isArray","k","m1","match","RegExp","m2","extractNumber","propName","m","Number","extractBoolean","mTrue","mFalse","parseItemsFromLua","text","items","includes","parseOptimizedFormat","collect","unique","useable","shouldClose","descRaw","description","push","lines","split","i","line","itemMatch","braceCount","bodyLines","currentLine","openBraces","closeBraces","join","addItemPattern","exec","parseInt","toOptimized","map","_ref","toPipe","_ref2","toJson","_ref3","JSON","stringify","toOriginalFlat","_ref4","toOX","output","forEach","_ref5","parseOXItems","oxPattern","consume","stack","usetime","parsePipeFormat","parts","part","descParts","parseJsonFormat","jsonData","startsWith","parse","item","error","console","parseAndConvert","inputText","format","parseAnyFormat","out","count","trimmedText","log","some","readFileAsDataURL","file","Promise","res","rej","r","FileReader","onload","result","onerror","readAsDataURL","dataURLToBlob","dataURL","_exec","head","String","mime","bstr","atob","u8","Uint8Array","charCodeAt","Blob","resizeDataUrl","dataUrl","targetWidth","targetHeight","maintainRatio","img","c","document","createElement","ctx","getContext","imgAspect","width","height","targetAspect","drawWidth","drawHeight","offsetX","offsetY","clearRect","drawImage","toDataURL","src","ItemCustomizer","showWelcome","setShowWelcome","tab","setTab","fileText","setFileText","outputText","setOutputText","processing","setProcessing","progress","setProgress","itemsFound","setItemsFound","setFormat","fileInputRef","builder","setBuilder","images","setImages","resizeProgress","setResizeProgress","processingImages","setProcessingImages","resizedPreviews","setResizedPreviews","setMaintainRatio","diffBefore","setDiffBefore","diffAfter","setDiffAfter","readFileAsText","readAsText","handleUpload","e","_e$target$files","f","target","files","txt","parsed","convert","setTimeout","Math","round","message","downloadOutput","blob","url","URL","createObjectURL","a","href","download","click","revokeObjectURL","onBuilderNameChange","val","isNewKey","suggestions","prev","_objectSpread","buildItem","desc","originalBlock","onDropImages","_e$dataTransfer","preventDefault","from","dataTransfer","imgs","filter","handleResizeClick","resizeAll","_document$getElementB","getElementById","processImages","alert","total","previews","resized","original","downloadAllResized","preview","index","appendChild","removeChild","downloadSingleResized","Header","header","initial","opacity","y","animate","transition","duration","className","children","Tabs","nav","icon","size","t","onClick","value","onChange","style","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","paddingRight","appearance","backgroundColor","color","_fileInputRef$current","current","ref","accept","Converter","div","rows","navigator","clipboard","writeText","disabled","readOnly","Builder","placeholder","v","ImagesTab","onDragOver","onDrop","_document$getElementB2","id","multiple","checked","alt","DiffTab","WelcomeScreen","scale","delay","h1","p"],"sources":["C:/Users/danny/Desktop/Elation42/E42/resources/ItemCustomizer/react-app/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { FileCode, Hammer, Image, GitCompare, Upload, Download, RefreshCw, Wand2, ClipboardCopy } from 'lucide-react'\r\n\r\n// =====================\r\n// Helper (pure) functions\r\n// =====================\r\nconst PLACEHOLDER_DESC = 'this item label was made in kuro item customizer this is just a place holder for missing descriptions'\r\n\r\nfunction suggestFromName(name) {\r\n  const key = (name || '').trim().toLowerCase().replace(/[^a-z0-9_\\-]/g, '_')\r\n  let label = (name || '').replace(/_/g, ' ').trim()\r\n  if (label) label = label.charAt(0).toUpperCase() + label.slice(1)\r\n  let type = 'item'\r\n  let weight = 100\r\n  if (/weapon|rifle|pistol/i.test(key)) { type = 'weapon'; weight = 2000 }\r\n  else if (/burger|food|apple/i.test(key)) { type = 'food'; weight = 100 }\r\n  return { key, label, weight, type, image: key ? `${key}.png` : '' }\r\n}\r\n\r\nfunction extractString(body, propNames, def = '') {\r\n  const arr = Array.isArray(propNames) ? propNames : [propNames]\r\n  for (const k of arr) {\r\n    const m1 = body.match(new RegExp(`${k}\\\\s*=\\\\s*'([^']*)'`))\r\n    if (m1) return m1[1]\r\n    const m2 = body.match(new RegExp(`\\\\['${k}'\\\\]\\\\s*=\\\\s*'([^']*)'`))\r\n    if (m2) return m2[1]\r\n  }\r\n  return def\r\n}\r\n\r\nfunction extractNumber(body, propName, def = 0) {\r\n  const m = body.match(new RegExp(`${propName}\\\\s*=\\\\s*([0-9]+)`))\r\n  return m ? Number(m[1]) : def\r\n}\r\n\r\nfunction extractBoolean(body, propName, def) {\r\n  const mTrue = new RegExp(`${propName}\\\\s*=\\\\s*true`).test(body)\r\n  const mFalse = new RegExp(`${propName}\\\\s*=\\\\s*false`).test(body)\r\n  if (mTrue) return true\r\n  if (mFalse) return false\r\n  return def\r\n}\r\n\r\nfunction parseItemsFromLua(text) {\r\n  const items = []\r\n  if (!text) return items\r\n\r\n  // Check if this is optimized format with add_item() calls\r\n  if (text.includes('add_item(')) {\r\n    return parseOptimizedFormat(text)\r\n  }\r\n\r\n  const collect = (key, body) => {\r\n    const label = extractString(body, ['label', \"['label']\"], key)\r\n    const weight = extractNumber(body, 'weight', 0)\r\n    const type = extractString(body, 'type', 'item')\r\n    const image = extractString(body, 'image', `${key}.png`)\r\n    const unique = extractBoolean(body, 'unique', false)\r\n    const useable = extractBoolean(body, 'useable', true)\r\n    const shouldClose = extractBoolean(body, 'shouldClose', true)\r\n    const descRaw = extractString(body, 'description', '')\r\n    const description = descRaw || (label ? label : PLACEHOLDER_DESC)\r\n    items.push({ key, label, weight, type, image, unique, useable, shouldClose, description })\r\n  }\r\n\r\n  // Enhanced parsing for QB items\r\n  // Pattern A: ['key'] = { ... } with proper brace matching\r\n  const lines = text.split('\\n')\r\n  let i = 0\r\n  \r\n  while (i < lines.length) {\r\n    const line = lines[i].trim()\r\n    \r\n    // Check for item definition\r\n    const itemMatch = line.match(/\\['?([^'\\]]+)'?\\]\\s*=\\s*\\{/) || line.match(/^([a-z0-9_\\-]+)\\s*=\\s*\\{/)\r\n    \r\n    if (itemMatch) {\r\n      const key = itemMatch[1]\r\n      let braceCount = 1\r\n      let bodyLines = []\r\n      i++\r\n      \r\n      // Collect the entire item body\r\n      while (i < lines.length && braceCount > 0) {\r\n        const currentLine = lines[i]\r\n        bodyLines.push(currentLine)\r\n        \r\n        // Count braces to find the end\r\n        const openBraces = (currentLine.match(/\\{/g) || []).length\r\n        const closeBraces = (currentLine.match(/\\}/g) || []).length\r\n        braceCount += openBraces - closeBraces\r\n        \r\n        i++\r\n      }\r\n      \r\n      const body = bodyLines.join('\\n')\r\n      collect(key, body)\r\n    } else {\r\n      i++\r\n    }\r\n  }\r\n  \r\n  return items\r\n}\r\n\r\nfunction parseOptimizedFormat(text) {\r\n  const items = []\r\n  \r\n  // Parse add_item('key', 'label', weight, 'type', 'image', unique, useable, 'description')\r\n  const addItemPattern = /add_item\\(\\s*'([^']*)',\\s*'([^']*)',\\s*(\\d+),\\s*'([^']*)',\\s*'([^']*)',\\s*(true|false),\\s*(true|false),\\s*'([^']*)'\\s*\\)/g\r\n  \r\n  let match\r\n  while ((match = addItemPattern.exec(text))) {\r\n    const [, key, label, weight, type, image, unique, useable, description] = match\r\n    \r\n    items.push({\r\n      key,\r\n      label,\r\n      weight: parseInt(weight),\r\n      type,\r\n      image,\r\n      unique: unique === 'true',\r\n      useable: useable === 'true',\r\n      shouldClose: true,\r\n      description: description || label || PLACEHOLDER_DESC\r\n    })\r\n  }\r\n  \r\n  return items\r\n}\r\n\r\nfunction toOptimized(items) {\r\n  return items.map(({ key, label, weight, type, image, unique, useable, description }) =>\r\n    `add_item('${key}', '${(label||'').replace(/'/g, \"\\\\'\")}', ${Number(weight)||0}, '${type}', '${image}', ${!!unique}, ${!!useable}, '${(description||'').replace(/'/g, \"\\\\'\")}')`\r\n  ).join('\\n')\r\n}\r\n\r\nfunction toPipe(items) {\r\n  return items.map(({ key, label, weight, type, image, unique, useable, description }) =>\r\n    `${key} | ${label} | ${Number(weight)||0} | ${type} | ${image} | ${!!unique} | ${!!useable} | ${description}`\r\n  ).join('\\n')\r\n}\r\n\r\nfunction toJson(items) {\r\n  return items.map(({ key, label, weight, type, image, unique, useable, shouldClose, description }) => JSON.stringify({\r\n    name: key, label, weight: Number(weight)||0, type, image,\r\n    unique: !!unique, useable: !!useable, shouldClose: !!shouldClose, description\r\n  })).join('\\n')\r\n}\r\n\r\nfunction toOriginalFlat(items) {\r\n  return items.map(({ key, label, weight, type, image, unique, useable, shouldClose, description }) =>\r\n    `['${key}'] = { name = '${key}', label = '${label}', weight = ${Number(weight)||0}, type = '${type}', image = '${image}', unique = ${!!unique}, useable = ${!!useable}, shouldClose = ${!!shouldClose}, description = '${(description||'').replace(/'/g, \"\\\\'\")}' }`\r\n  ).join('\\n')\r\n}\r\n\r\nfunction toOX(items) {\r\n  let output = 'return {\\n'\r\n  items.forEach(({ key, label, weight, type, image, unique, useable, description }) => {\r\n    output += `\\t['${key}'] = {\\n`\r\n    output += `\\t\\tlabel = '${label || key}',\\n`\r\n    \r\n    // Add weight if different from default\r\n    if (weight && weight !== 100) {\r\n      output += `\\t\\tweight = ${Number(weight)||100},\\n`\r\n    }\r\n    \r\n    // Add stack property (opposite of unique)\r\n    if (!unique) {\r\n      output += `\\t\\tstack = true,\\n`\r\n    }\r\n    \r\n    // Add consume if useable\r\n    if (useable) {\r\n      output += `\\t\\tconsume = 0.3,\\n`\r\n    }\r\n    \r\n    // Client block\r\n    output += `\\t\\tclient = {\\n`\r\n    output += `\\t\\t\\timage = '${image || key + '.png'}',\\n`\r\n    \r\n    if (useable) {\r\n      output += `\\t\\t\\tusetime = 2500,\\n`\r\n      output += `\\t\\t\\tnotification = 'You used ${label || key}',\\n`\r\n    }\r\n    \r\n    // Add description as status if available\r\n    if (description && description !== label && description !== PLACEHOLDER_DESC) {\r\n      output += `\\t\\t\\t-- description = '${description.replace(/'/g, \"\\\\'\")}',\\n`\r\n    }\r\n    \r\n    output += `\\t\\t},\\n`\r\n    \r\n    // Server block only if useable\r\n    if (useable) {\r\n      output += `\\t\\tserver = {\\n`\r\n      output += `\\t\\t\\texport = 'your_resource.${key}'\\n`\r\n      output += `\\t\\t},\\n`\r\n    }\r\n    \r\n    output += `\\t},\\n\\n`\r\n  })\r\n  output += '}\\n'\r\n  return output\r\n}\r\n\r\nfunction parseOXItems(text) {\r\n  const items = []\r\n  if (!text) return items\r\n  \r\n  // Parse OX format: ['item_key'] = { ... }\r\n  const oxPattern = /\\['([^']+)'\\]\\s*=\\s*\\{([^}]+(?:\\{[^}]*\\}[^}]*)*)\\}/g\r\n  let match\r\n  \r\n  while ((match = oxPattern.exec(text))) {\r\n    const key = match[1]\r\n    const body = match[2]\r\n    \r\n    const label = extractString(body, 'label', key)\r\n    const weight = extractNumber(body, 'weight', 100)\r\n    const consume = extractNumber(body, 'consume', 0)\r\n    const stack = extractBoolean(body, 'stack', true)\r\n    const usetime = extractNumber(body, 'usetime', 0)\r\n    const image = extractString(body, 'image', `${key}.png`)\r\n    \r\n    items.push({\r\n      key,\r\n      label,\r\n      weight,\r\n      type: 'item',\r\n      image,\r\n      unique: !stack,\r\n      useable: consume > 0 || usetime > 0,\r\n      shouldClose: true,\r\n      description: label\r\n    })\r\n  }\r\n  \r\n  return items\r\n}\r\n\r\nfunction parsePipeFormat(text) {\r\n  const items = []\r\n  const lines = text.split('\\n')\r\n  \r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i].trim()\r\n    if (!line || line.includes('key|label|weight')) continue // Skip header\r\n    \r\n    const parts = line.split('|').map(part => part.trim())\r\n    if (parts.length >= 7) {\r\n      const [key, label, weight, type, image, unique, useable, ...descParts] = parts\r\n      const description = descParts.join('|').trim()\r\n      \r\n      items.push({\r\n        key,\r\n        label: label || key,\r\n        weight: parseInt(weight) || 100,\r\n        type: type || 'item',\r\n        image: image || `${key}.png`,\r\n        unique: unique === 'true',\r\n        useable: useable === 'true',\r\n        shouldClose: true,\r\n        description: description || label || PLACEHOLDER_DESC\r\n      })\r\n    }\r\n  }\r\n  \r\n  return items\r\n}\r\n\r\nfunction parseJsonFormat(text) {\r\n  const items = []\r\n  \r\n  try {\r\n    let jsonData\r\n    \r\n    // Try parsing as array first\r\n    if (text.trim().startsWith('[')) {\r\n      jsonData = JSON.parse(text)\r\n      if (Array.isArray(jsonData)) {\r\n        jsonData.forEach(item => {\r\n          items.push({\r\n            key: item.name || item.key || 'unknown',\r\n            label: item.label || item.name || item.key || 'Unknown',\r\n            weight: item.weight || 100,\r\n            type: item.type || 'item',\r\n            image: item.image || `${item.key || item.name}.png`,\r\n            unique: !!item.unique,\r\n            useable: !!item.useable,\r\n            shouldClose: item.shouldClose !== false,\r\n            description: item.description || item.label || PLACEHOLDER_DESC\r\n          })\r\n        })\r\n      }\r\n    } else {\r\n      // Try parsing as single object\r\n      jsonData = JSON.parse(text)\r\n      if (jsonData && typeof jsonData === 'object') {\r\n        items.push({\r\n          key: jsonData.name || jsonData.key || 'unknown',\r\n          label: jsonData.label || jsonData.name || jsonData.key || 'Unknown',\r\n          weight: jsonData.weight || 100,\r\n          type: jsonData.type || 'item',\r\n          image: jsonData.image || `${jsonData.key || jsonData.name}.png`,\r\n          unique: !!jsonData.unique,\r\n          useable: !!jsonData.useable,\r\n          shouldClose: jsonData.shouldClose !== false,\r\n          description: jsonData.description || jsonData.label || PLACEHOLDER_DESC\r\n        })\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('JSON parsing error:', error)\r\n  }\r\n  \r\n  return items\r\n}\r\n\r\nfunction parseAndConvert(inputText, format) {\r\n  // Universal parser - detects input format automatically\r\n  const items = parseAnyFormat(inputText)\r\n  \r\n  let out = ''\r\n  switch (format) {\r\n    case 'optimized': out = toOptimized(items); break\r\n    case 'pipe': out = toPipe(items); break\r\n    case 'json': out = toJson(items); break\r\n    case 'ox': out = toOX(items); break\r\n    case 'original': default: out = toOriginalFlat(items)\r\n  }\r\n  return { out, count: items.length }\r\n}\r\n\r\nfunction parseAnyFormat(text) {\r\n  if (!text || !text.trim()) return []\r\n  \r\n  const trimmedText = text.trim()\r\n  \r\n  // Detect format and parse accordingly\r\n  if (trimmedText.includes('add_item(')) {\r\n    console.log('Detected: Optimized format')\r\n    return parseOptimizedFormat(text)\r\n  }\r\n  \r\n  if (trimmedText.includes('return {') && trimmedText.includes('client = {')) {\r\n    console.log('Detected: OX Inventory format')\r\n    return parseOXItems(text)\r\n  }\r\n  \r\n  if (trimmedText.includes('|') && trimmedText.split('\\n').some(line => line.split('|').length > 5)) {\r\n    console.log('Detected: Pipe delimited format')\r\n    return parsePipeFormat(text)\r\n  }\r\n  \r\n  if ((trimmedText.startsWith('[') && trimmedText.includes('\"name\"')) || \r\n      (trimmedText.startsWith('{') && trimmedText.includes('\"key\"'))) {\r\n    console.log('Detected: JSON format')\r\n    return parseJsonFormat(text)\r\n  }\r\n  \r\n  // Default to standard QB format\r\n  console.log('Detected: Standard QB format')\r\n  return parseItemsFromLua(text)\r\n}\r\n\r\n// Simple image helpers\r\nfunction readFileAsDataURL(file) {\r\n  return new Promise((res, rej) => {\r\n    const r = new FileReader()\r\n    r.onload = () => res(r.result)\r\n    r.onerror = rej\r\n    r.readAsDataURL(file)\r\n  })\r\n}\r\n\r\nfunction dataURLToBlob(dataURL) {\r\n  const [head, body] = String(dataURL).split(',')\r\n  const mime = /data:(.*?);/.exec(head)?.[1] || 'image/png'\r\n  const bstr = atob(body)\r\n  const u8 = new Uint8Array(bstr.length)\r\n  for (let i = 0; i < bstr.length; i++) u8[i] = bstr.charCodeAt(i)\r\n  return new Blob([u8], { type: mime })\r\n}\r\n\r\nfunction resizeDataUrl(dataUrl, targetWidth, targetHeight, maintainRatio = true) {\r\n  return new Promise((res) => {\r\n    const img = new Image()\r\n    img.onload = () => {\r\n      const c = document.createElement('canvas')\r\n      const ctx = c.getContext('2d')\r\n      \r\n      if (maintainRatio) {\r\n        // Smart resize: maintain aspect ratio, fit within bounds, center on transparent background\r\n        const imgAspect = img.width / img.height\r\n        const targetAspect = targetWidth / targetHeight\r\n        \r\n        let drawWidth, drawHeight, offsetX = 0, offsetY = 0\r\n        \r\n        if (imgAspect > targetAspect) {\r\n          // Image is wider - fit to width\r\n          drawWidth = targetWidth\r\n          drawHeight = targetWidth / imgAspect\r\n          offsetY = (targetHeight - drawHeight) / 2\r\n        } else {\r\n          // Image is taller - fit to height\r\n          drawHeight = targetHeight\r\n          drawWidth = targetHeight * imgAspect\r\n          offsetX = (targetWidth - drawWidth) / 2\r\n        }\r\n        \r\n        c.width = targetWidth\r\n        c.height = targetHeight\r\n        \r\n        // Clear with transparent background\r\n        ctx.clearRect(0, 0, targetWidth, targetHeight)\r\n        \r\n        // Draw image centered\r\n        ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight)\r\n      } else {\r\n        // Stretch mode (old behavior)\r\n        c.width = targetWidth\r\n        c.height = targetHeight\r\n        ctx.drawImage(img, 0, 0, targetWidth, targetHeight)\r\n      }\r\n      \r\n      res(c.toDataURL('image/png'))\r\n    }\r\n    img.src = dataUrl\r\n  })\r\n}\r\n\r\nexport default function ItemCustomizer() {\r\n  const [showWelcome, setShowWelcome] = useState(true)\r\n  const [tab, setTab] = useState('converter')\r\n  const [fileText, setFileText] = useState('')\r\n  const [outputText, setOutputText] = useState('')\r\n  const [processing, setProcessing] = useState(false)\r\n  const [progress, setProgress] = useState(0)\r\n  const [itemsFound, setItemsFound] = useState(0)\r\n  const [format, setFormat] = useState('optimized')\r\n  const fileInputRef = useRef(null)\r\n  const [builder, setBuilder] = useState({ key: '', label: '', weight: 100, type: 'item', image: '' })\r\n  const [images, setImages] = useState([])\r\n  const [resizeProgress, setResizeProgress] = useState(0)\r\n  const [processingImages, setProcessingImages] = useState(false)\r\n  const [resizedPreviews, setResizedPreviews] = useState([])\r\n  const [maintainRatio, setMaintainRatio] = useState(true)\r\n  const [diffBefore, setDiffBefore] = useState('')\r\n  const [diffAfter, setDiffAfter] = useState('')\r\n\r\n  function readFileAsText(file) {\r\n    return new Promise((res, rej) => {\r\n      const r = new FileReader()\r\n      r.onload = () => res(r.result)\r\n      r.onerror = rej\r\n      r.readAsText(file)\r\n    })\r\n  }\r\n\r\n  async function handleUpload(e) {\r\n    const f = e.target.files?.[0]\r\n    if (!f) return\r\n    const txt = await readFileAsText(f)\r\n    setFileText(txt)\r\n    setDiffBefore(txt)\r\n    const parsed = parseItemsFromLua(txt)\r\n    setItemsFound(parsed.length)\r\n  }\r\n\r\n  async function convert() {\r\n    if (!fileText) return\r\n    setProcessing(true)\r\n    setProgress(0)\r\n    setOutputText('')\r\n    \r\n    try {\r\n      // Simulate progress\r\n      for (let i = 0; i < 5; i++) {\r\n        await new Promise(r => setTimeout(r, 100))\r\n        setProgress(Math.round(((i + 1) / 5) * 100))\r\n      }\r\n      \r\n      const { out, count } = parseAndConvert(fileText, format)\r\n      setItemsFound(count)\r\n      setOutputText(out || '-- No items detected. Ensure your file uses a supported format. --')\r\n      setDiffAfter(out)\r\n    } catch (error) {\r\n      console.error('Conversion error:', error)\r\n      setOutputText(`-- Error during conversion: ${error.message} --`)\r\n    } finally {\r\n      setProcessing(false)\r\n      setProgress(100)\r\n    }\r\n  }\r\n\r\n  function downloadOutput() {\r\n    if (!outputText) return\r\n    const blob = new Blob([outputText], { type: 'text/plain' })\r\n    const url = URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = format === 'json' ? 'converted_items.json' : format === 'pipe' ? 'converted_items.txt' : 'converted_items.lua'\r\n    a.click()\r\n    URL.revokeObjectURL(url)\r\n  }\r\n\r\n  function onBuilderNameChange(val) { \r\n    // Only auto-suggest if this is a new key (empty or completely different)\r\n    const isNewKey = !builder.key || val.length <= 1\r\n    \r\n    if (isNewKey) {\r\n      const suggestions = suggestFromName(val)\r\n      setBuilder(prev => ({ \r\n        ...prev, \r\n        key: val, // Use actual input value\r\n        label: suggestions.label,\r\n        weight: suggestions.weight,\r\n        type: suggestions.type,\r\n        image: suggestions.image\r\n      }))\r\n    } else {\r\n      // Just update the key, keep other fields as user set them\r\n      setBuilder(prev => ({ ...prev, key: val }))\r\n    }\r\n  }\r\n\r\n  function buildItem() {\r\n    const desc = builder.label ? builder.label : PLACEHOLDER_DESC\r\n    const originalBlock = `['${builder.key}'] = { name = '${builder.key}', label = '${builder.label}', weight = ${Number(builder.weight)||0}, type = '${builder.type}', image = '${builder.image}', unique = false, useable = true, shouldClose = true, description = '${(desc||'').replace(/'/g, \"\\\\'\")}' }`\r\n    const { out } = parseAndConvert(originalBlock, format)\r\n    setOutputText(out)\r\n    setDiffAfter(out)\r\n  }\r\n\r\n  function onDropImages(e) {\r\n    e.preventDefault()\r\n    const files = Array.from(e.dataTransfer?.files || e.target.files || [])\r\n    const imgs = files.filter(f => f.type.startsWith('image/'))\r\n    setImages(imgs)\r\n  }\r\n\r\n  function handleResizeClick() {\r\n    if (images.length > 0) {\r\n      // If images are already selected, resize them\r\n      resizeAll()\r\n    } else {\r\n      // If no images, open file browser\r\n      document.getElementById('imgIn')?.click()\r\n    }\r\n  }\r\n\r\n  async function processImages() {\r\n    if (!images.length) {\r\n      alert('Please select images first!')\r\n      return\r\n    }\r\n    \r\n    setProcessingImages(true)\r\n    setResizeProgress(0)\r\n    const total = images.length\r\n    const previews = []\r\n    \r\n    try {\r\n      for (let i = 0; i < images.length; i++) {\r\n        const file = images[i]\r\n        console.log(`Processing ${file.name}...`)\r\n        \r\n        const dataUrl = await readFileAsDataURL(file)\r\n        const resized = await resizeDataUrl(dataUrl, 100, 100, maintainRatio)\r\n        \r\n        previews.push({\r\n          name: file.name,\r\n          original: dataUrl,\r\n          resized: resized,\r\n          blob: dataURLToBlob(resized)\r\n        })\r\n        \r\n        setResizeProgress(Math.round(((i + 1) / total) * 100))\r\n        \r\n        // Small delay for smooth progress\r\n        await new Promise(r => setTimeout(r, 50))\r\n      }\r\n      \r\n      setResizedPreviews(previews)\r\n      alert(`Successfully processed ${total} images! Review and download below.`)\r\n    } catch (error) {\r\n      console.error('Processing error:', error)\r\n      alert('Error processing images: ' + error.message)\r\n    } finally {\r\n      setProcessingImages(false)\r\n    }\r\n  }\r\n\r\n  function downloadAllResized() {\r\n    if (!resizedPreviews.length) {\r\n      alert('No processed images to download!')\r\n      return\r\n    }\r\n    \r\n    resizedPreviews.forEach((preview, index) => {\r\n      setTimeout(() => {\r\n        const url = URL.createObjectURL(preview.blob)\r\n        const a = document.createElement('a')\r\n        a.href = url\r\n        a.download = `resized_${preview.name.replace(/\\.[^/.]+$/, '.png')}`\r\n        document.body.appendChild(a)\r\n        a.click()\r\n        document.body.removeChild(a)\r\n        URL.revokeObjectURL(url)\r\n      }, index * 200) // Stagger downloads\r\n    })\r\n  }\r\n\r\n  function downloadSingleResized(preview) {\r\n    const url = URL.createObjectURL(preview.blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `resized_${preview.name.replace(/\\.[^/.]+$/, '.png')}`\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n    URL.revokeObjectURL(url)\r\n  }\r\n\r\n  async function resizeAll() {\r\n    // Legacy function for backward compatibility\r\n    await processImages()\r\n  }\r\n\r\n  // ==== Subcomponents ====\r\n  const Header = () => (\r\n    <motion.header \r\n      initial={{ opacity: 0, y: -8 }} \r\n      animate={{ opacity: 1, y: 0 }} \r\n      transition={{ duration: .3 }} \r\n      className='mb-6'\r\n    >\r\n      <div className='flex items-center justify-between'>\r\n        <div className='flex items-center gap-3'>\r\n          <div className='h-9 w-9 rounded-xl bg-gradient-to-br from-kuro-green to-kuro-purple shadow-lg shadow-emerald-500/10' />\r\n          <div>\r\n            <h1 className='text-xl md:text-2xl font-semibold tracking-tight text-white'>Kuro Item Customizer</h1>\r\n            <p className='text-xs text-gray-400'>Convert • Build • Resize • Diff — blazing-fast, zero deps</p>\r\n          </div>\r\n        </div>\r\n        <div className='flex gap-2 items-center text-sm text-gray-300'>\r\n          <span className='px-2 py-1 rounded-full bg-white/5 border border-white/10'>{itemsFound} items</span>\r\n          <span className='px-2 py-1 rounded-full bg-white/5 border border-white/10'>Format: {format}</span>\r\n        </div>\r\n      </div>\r\n    </motion.header>\r\n  )\r\n\r\n  const Tabs = () => (\r\n    <motion.nav initial={{ opacity: 0 }} animate={{ opacity: 1 }} className='mb-6'>\r\n      <div className='flex flex-wrap gap-2 items-center'>\r\n        {[\r\n          { key: 'converter', label: 'Converter', icon: <FileCode size={16} /> },\r\n          { key: 'builder', label: 'Item Builder', icon: <Hammer size={16} /> },\r\n          { key: 'images', label: 'Image Resizer', icon: <Image size={16} /> },\r\n          { key: 'diff', label: 'Diff Viewer', icon: <GitCompare size={16} /> },\r\n        ].map(t => (\r\n          <button\r\n            key={t.key}\r\n            onClick={() => setTab(t.key)}\r\n            className={`group px-4 py-2 rounded-xl border text-sm flex items-center gap-2 transition ${\r\n              tab === t.key \r\n                ? 'bg-gradient-to-r from-kuro-green/20 to-kuro-purple/20 border-kuro-green/40 text-white' \r\n                : 'bg-white/5 border-white/10 hover:border-white/20 text-gray-300'\r\n            }`}\r\n          >\r\n            <span className={`${tab === t.key ? 'text-kuro-green' : 'text-gray-300 group-hover:text-white'}`}>\r\n              {t.icon}\r\n            </span>\r\n            {t.label}\r\n          </button>\r\n        ))}\r\n        <div className='ml-auto flex gap-2 items-center'>\r\n          <select \r\n            value={format} \r\n            onChange={e => setFormat(e.target.value)} \r\n            className='bg-gray-800 border border-white/10 px-3 py-2 rounded-xl text-sm text-white focus:outline-none focus:ring-2 focus:ring-kuro-green/40'\r\n            style={{\r\n              backgroundImage: `url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e\")`,\r\n              backgroundRepeat: 'no-repeat',\r\n              backgroundPosition: 'right 8px center',\r\n              backgroundSize: '16px',\r\n              paddingRight: '32px',\r\n              appearance: 'none'\r\n            }}\r\n          >\r\n            <option value='optimized' style={{ backgroundColor: '#1f2937', color: 'white' }}>Optimized (recommended)</option>\r\n            <option value='original' style={{ backgroundColor: '#1f2937', color: 'white' }}>Original Block</option>\r\n            <option value='pipe' style={{ backgroundColor: '#1f2937', color: 'white' }}>Compact Pipe</option>\r\n            <option value='json' style={{ backgroundColor: '#1f2937', color: 'white' }}>JSON</option>\r\n            <option value='ox' style={{ backgroundColor: '#1f2937', color: 'white' }}>OX Inventory</option>\r\n          </select>\r\n          <button \r\n            onClick={() => fileInputRef.current?.click()} \r\n            className='px-3 py-2 rounded-xl bg-gradient-to-r from-kuro-green to-kuro-purple text-sm font-medium shadow-lg shadow-emerald-500/20 flex items-center gap-2 text-white'\r\n          >\r\n            <Upload size={16} /> Upload items.lua\r\n          </button>\r\n          <input ref={fileInputRef} type='file' accept='.lua,.txt' onChange={handleUpload} className='hidden' />\r\n        </div>\r\n      </div>\r\n    </motion.nav>\r\n  )\r\n\r\n  const Converter = () => (\r\n    <section>\r\n      <div className='grid md:grid-cols-2 gap-4'>\r\n        <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\r\n          <div className='flex items-center justify-between'>\r\n            <label className='text-sm text-gray-300'>Input (items.lua)</label>\r\n            <kbd className='text-[10px] px-2 py-1 rounded bg-black/40 border border-white/10 text-gray-300'>Ctrl + V</kbd>\r\n          </div>\r\n          <textarea \r\n            value={fileText} \r\n            onChange={e => setFileText(e.target.value)} \r\n            rows={14} \r\n            className='w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 focus:outline-none focus:ring-2 focus:ring-kuro-green/40 text-white'\r\n          />\r\n        </motion.div>\r\n        <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\r\n          <div className='flex items-center justify-between'>\r\n            <label className='text-sm text-gray-300'>Output</label>\r\n            <div className='flex gap-2'>\r\n              <button \r\n                onClick={() => navigator.clipboard.writeText(outputText)} \r\n                disabled={!outputText} \r\n                className='text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300'\r\n              >\r\n                <ClipboardCopy size={14} /> Copy\r\n              </button>\r\n              <button \r\n                onClick={downloadOutput} \r\n                disabled={!outputText} \r\n                className='text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300'\r\n              >\r\n                <Download size={14} /> Download\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <textarea \r\n            value={outputText} \r\n            readOnly \r\n            rows={14} \r\n            className='w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 text-green-400'\r\n          />\r\n        </motion.div>\r\n      </div>\r\n      <div className='flex items-center gap-3 mt-4'>\r\n        <button \r\n          onClick={convert} \r\n          disabled={processing || !fileText} \r\n          className={`px-4 py-2 rounded-xl font-medium shadow-lg flex items-center gap-2 text-white transition-all ${\r\n            processing || !fileText \r\n              ? 'bg-gray-600 cursor-not-allowed' \r\n              : 'bg-gradient-to-r from-kuro-green to-kuro-purple shadow-emerald-500/20 hover:shadow-emerald-500/30'\r\n          }`}\r\n        >\r\n          <Wand2 size={16} /> {processing ? 'Converting...' : 'Convert'}\r\n        </button>\r\n        <div className='flex-1 h-2 rounded-full bg-white/10 overflow-hidden'>\r\n          <div \r\n            className='h-full bg-kuro-green transition-all duration-300'\r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n        <div className='text-sm text-gray-300 w-16 text-right'>{progress}%</div>\r\n      </div>\r\n      <div className='text-xs text-gray-400 mt-3 flex items-start gap-2'>\r\n        ⚠️ <span>Parser reads unique/useable/shouldClose from source. Missing description falls back to label, then placeholder.</span>\r\n      </div>\r\n    </section>\r\n  )\r\n\r\n  const Builder = () => (\r\n    <section>\r\n      <div className='grid md:grid-cols-2 gap-4'>\r\n        <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\r\n          <label className='text-sm text-gray-300'>Item Key</label>\r\n          <input \r\n            value={builder.key} \r\n            onChange={e => onBuilderNameChange(e.target.value)} \r\n            placeholder='custom_weapon' \r\n            className='w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-kuro-green/40 text-white'\r\n          />\r\n          <label className='text-sm text-gray-300 mt-3 block'>Label</label>\r\n          <input \r\n            value={builder.label} \r\n            onChange={e => setBuilder(v => ({ ...v, label: e.target.value }))} \r\n            className='w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-kuro-green/40 text-white'\r\n          />\r\n          <div className='grid grid-cols-3 gap-2 mt-3'>\r\n            <input \r\n              type='number' \r\n              value={builder.weight} \r\n              onChange={e => setBuilder(v => ({ ...v, weight: Number(e.target.value) }))} \r\n              className='p-2 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:ring-2 focus:ring-kuro-green/40 text-white'\r\n            />\r\n            <input \r\n              value={builder.type} \r\n              onChange={e => setBuilder(v => ({ ...v, type: e.target.value }))} \r\n              className='p-2 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:ring-2 focus:ring-kuro-green/40 text-white'\r\n            />\r\n            <input \r\n              value={builder.image} \r\n              onChange={e => setBuilder(v => ({ ...v, image: e.target.value }))} \r\n              className='p-2 bg-[#0b0f1a] rounded-lg text-sm border border-white/10 focus:ring-2 focus:ring-kuro-green/40 text-white'\r\n            />\r\n          </div>\r\n          <div className='flex gap-2 mt-4'>\r\n            <button \r\n              onClick={buildItem} \r\n              className='px-4 py-2 rounded-xl bg-gradient-to-r from-kuro-green to-kuro-purple font-medium shadow-lg shadow-emerald-500/20 text-white'\r\n            >\r\n              Build Item\r\n            </button>\r\n            <button \r\n              onClick={() => { \r\n                setBuilder({ key: '', label: '', weight: 100, type: 'item', image: '' }); \r\n                setOutputText(''); \r\n              }} \r\n              className='px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-300'\r\n            >\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n        <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\r\n          <label className='text-sm text-gray-300'>Preview</label>\r\n          <pre className='mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm overflow-auto font-mono border border-white/10 text-green-400'>\r\n            {outputText || '-- built item will show here --'}\r\n          </pre>\r\n        </motion.div>\r\n      </div>\r\n    </section>\r\n  )\r\n\r\n  const ImagesTab = () => (\r\n    <section>\r\n      <motion.div \r\n        initial={{ opacity: 0, y: 8 }} \r\n        animate={{ opacity: 1, y: 0 }} \r\n        onDragOver={e => e.preventDefault()} \r\n        onDrop={onDropImages} \r\n        className='border-2 border-dashed border-white/15 p-6 rounded-xl text-center bg-black/20'\r\n      >\r\n        <p className='text-sm text-gray-300'>\r\n          Drag & drop images here or{' '}\r\n          <button \r\n            onClick={() => document.getElementById('imgIn')?.click()} \r\n            className='underline text-kuro-green'\r\n          >\r\n            browse\r\n          </button>\r\n        </p>\r\n        <input \r\n          id='imgIn' \r\n          type='file' \r\n          multiple \r\n          accept='image/*' \r\n          onChange={onDropImages} \r\n          className='hidden'\r\n        />\r\n        <div className='mt-4 text-xs text-gray-400'>{images.length} image(s) ready</div>\r\n        \r\n        {/* Aspect Ratio Toggle */}\r\n        <div className='mt-4 flex items-center justify-center gap-2'>\r\n          <label className='flex items-center gap-2 text-sm text-gray-300'>\r\n            <input\r\n              type='checkbox'\r\n              checked={maintainRatio}\r\n              onChange={(e) => setMaintainRatio(e.target.checked)}\r\n              className='rounded border-white/20 bg-white/10 text-kuro-green focus:ring-kuro-green'\r\n            />\r\n            Smart resize (maintain aspect ratio)\r\n          </label>\r\n        </div>\r\n        \r\n        <div className='flex gap-2 justify-center mt-4'>\r\n          <button \r\n            onClick={handleResizeClick} \r\n            disabled={processingImages}\r\n            className='px-4 py-2 rounded-xl bg-gradient-to-r from-kuro-green to-kuro-purple font-medium shadow-lg shadow-emerald-500/20 text-white disabled:opacity-50'\r\n          >\r\n            {images.length > 0 ? 'Select & Resize Images' : 'Select Images'}\r\n          </button>\r\n          <button \r\n            onClick={processImages} \r\n            disabled={processingImages || !images.length}\r\n            className='px-4 py-2 rounded-xl bg-blue-600 hover:bg-blue-700 font-medium text-white disabled:opacity-50'\r\n          >\r\n            {processingImages ? 'Processing...' : 'Process Images'}\r\n          </button>\r\n          <button \r\n            onClick={() => { setImages([]); setResizedPreviews([]); setResizeProgress(0) }} \r\n            className='px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-gray-300'\r\n          >\r\n            Clear All\r\n          </button>\r\n        </div>\r\n        {/* Progress Bar */}\r\n        {(processingImages || resizeProgress > 0) && (\r\n          <div className='mt-4'>\r\n            <div className='bg-white/10 h-2 rounded-full overflow-hidden'>\r\n              <motion.div \r\n                initial={{ width: 0 }} \r\n                animate={{ width: `${resizeProgress}%` }} \r\n                className='h-full bg-kuro-green'\r\n              />\r\n            </div>\r\n            <div className='text-xs text-gray-400 mt-1'>{resizeProgress}% complete</div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Download Section */}\r\n        {resizedPreviews.length > 0 && (\r\n          <div className='mt-6 border-t border-white/10 pt-6'>\r\n            <div className='flex justify-between items-center mb-4'>\r\n              <h3 className='text-lg font-semibold text-white'>Processed Images ({resizedPreviews.length})</h3>\r\n              <button \r\n                onClick={downloadAllResized}\r\n                className='px-4 py-2 rounded-xl bg-green-600 hover:bg-green-700 font-medium text-white'\r\n              >\r\n                Download All\r\n              </button>\r\n            </div>\r\n            \r\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto'>\r\n              {resizedPreviews.map((preview, index) => (\r\n                <div key={index} className='bg-white/5 rounded-lg p-4'>\r\n                  <div className='flex gap-4'>\r\n                    <div className='flex-1'>\r\n                      <h4 className='text-sm font-medium text-white mb-2'>{preview.name}</h4>\r\n                      <div className='flex gap-2'>\r\n                        <div className='text-center'>\r\n                          <div className='text-xs text-gray-400 mb-1'>Original</div>\r\n                          <img src={preview.original} alt='Original' className='w-16 h-16 object-cover rounded border border-white/20' />\r\n                        </div>\r\n                        <div className='text-center'>\r\n                          <div className='text-xs text-gray-400 mb-1'>Resized (100x100)</div>\r\n                          <img src={preview.resized} alt='Resized' className='w-16 h-16 object-cover rounded border border-white/20' />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <button \r\n                      onClick={() => downloadSingleResized(preview)}\r\n                      className='px-3 py-2 rounded-lg bg-kuro-green hover:bg-kuro-green/80 text-white text-sm'\r\n                    >\r\n                      <Download size={16} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n      <div className='mt-4 grid grid-cols-2 md:grid-cols-6 gap-2'>\r\n        {images.map((f, i) => (\r\n          <motion.div \r\n            key={i} \r\n            initial={{ opacity: 0, y: 6 }} \r\n            animate={{ opacity: 1, y: 0 }} \r\n            className='bg-[#0b0f1a] p-2 rounded-lg text-xs text-gray-300 border border-white/10 truncate'\r\n          >\r\n            {f.name}\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  )\r\n\r\n  const DiffTab = () => (\r\n    <section>\r\n      <div className='grid md:grid-cols-2 gap-4'>\r\n        <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\r\n          <label className='text-sm text-gray-300'>Before</label>\r\n          <textarea \r\n            value={diffBefore} \r\n            onChange={e => setDiffBefore(e.target.value)} \r\n            rows={14} \r\n            className='w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 text-white'\r\n          />\r\n        </motion.div>\r\n        <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\r\n          <div className='flex items-center justify-between'>\r\n            <label className='text-sm text-gray-300'>After</label>\r\n            <div className='flex gap-2'>\r\n              <button \r\n                onClick={() => setDiffAfter(outputText)} \r\n                className='text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300'\r\n              >\r\n                <RefreshCw size={14} /> From Output\r\n              </button>\r\n              <button \r\n                onClick={() => navigator.clipboard.writeText(diffAfter)} \r\n                className='text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:border-white/20 flex items-center gap-1 text-gray-300'\r\n              >\r\n                <ClipboardCopy size={14} /> Copy\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <textarea \r\n            value={diffAfter} \r\n            onChange={e => setDiffAfter(e.target.value)} \r\n            rows={14} \r\n            className='w-full mt-2 p-3 bg-[#0b0f1a] rounded-lg text-sm font-mono border border-white/10 text-green-400'\r\n          />\r\n        </motion.div>\r\n      </div>\r\n      <div className='mt-4 text-xs text-gray-400'>\r\n        Review changes before replacing your server file. Always keep a backup.\r\n      </div>\r\n    </section>\r\n  )\r\n\r\n  // Welcome Screen Component\r\n  const WelcomeScreen = () => (\r\n    <div className='min-h-screen relative bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-[#0b1220] via-[#0b0f1a] to-black text-gray-100 flex items-center justify-center'>\r\n      <div className='pointer-events-none absolute inset-0 opacity-20 [mask-image:radial-gradient(transparent,black)]'>\r\n        <div className='absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,.06)_1px,transparent_1px),linear-gradient(rgba(255,255,255,.06)_1px,transparent_1px)] bg-[size:32px_32px]' />\r\n      </div>\r\n      <motion.div \r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.8 }}\r\n        className='relative text-center max-w-2xl px-8'\r\n      >\r\n        <motion.div \r\n          initial={{ scale: 0.8, opacity: 0 }}\r\n          animate={{ scale: 1, opacity: 1 }}\r\n          transition={{ delay: 0.2, duration: 0.6 }}\r\n          className='w-32 h-32 mx-auto mb-8 rounded-3xl bg-gradient-to-br from-kuro-green to-kuro-purple shadow-2xl shadow-emerald-500/20 flex items-center justify-center'\r\n        >\r\n          <span className='text-5xl'>🛠️</span>\r\n        </motion.div>\r\n        \r\n        <motion.h1 \r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.4, duration: 0.6 }}\r\n          className='text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent'\r\n        >\r\n          Kuro Item Customizer\r\n        </motion.h1>\r\n        \r\n        <motion.p \r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.6, duration: 0.6 }}\r\n          className='text-xl text-gray-300 mb-12 leading-relaxed'\r\n        >\r\n          The ultimate tool for FiveM item management.<br />\r\n          Convert • Build • Resize • Compare — blazing-fast, zero dependencies.\r\n        </motion.p>\r\n        \r\n        <motion.div \r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.8, duration: 0.6 }}\r\n          className='space-y-4'\r\n        >\r\n          <button\r\n            onClick={() => setShowWelcome(false)}\r\n            className='px-8 py-4 bg-gradient-to-r from-kuro-green to-kuro-purple text-white font-semibold rounded-2xl shadow-2xl shadow-emerald-500/25 hover:shadow-emerald-500/40 transition-all duration-300 transform hover:scale-105'\r\n          >\r\n            Get Started\r\n          </button>\r\n          \r\n          <div className='flex items-center justify-center gap-8 text-sm text-gray-400 mt-8'>\r\n            <div className='flex items-center gap-2'>\r\n              <span className='w-2 h-2 bg-kuro-green rounded-full'></span>\r\n              <span>QB ↔ OX Conversion</span>\r\n            </div>\r\n            <div className='flex items-center gap-2'>\r\n              <span className='w-2 h-2 bg-kuro-purple rounded-full'></span>\r\n              <span>5 Export Formats</span>\r\n            </div>\r\n            <div className='flex items-center gap-2'>\r\n              <span className='w-2 h-2 bg-blue-400 rounded-full'></span>\r\n              <span>Image Resizing</span>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    </div>\r\n  )\r\n\r\n  if (showWelcome) {\r\n    return <WelcomeScreen />\r\n  }\r\n\r\n  return (\r\n    <div className='min-h-screen relative bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-[#0b1220] via-[#0b0f1a] to-black text-gray-100'>\r\n      {/* subtle grid overlay */}\r\n      <div className='pointer-events-none absolute inset-0 opacity-20 [mask-image:radial-gradient(transparent,black)]'>\r\n        <div className='absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,.06)_1px,transparent_1px),linear-gradient(rgba(255,255,255,.06)_1px,transparent_1px)] bg-[size:32px_32px]' />\r\n      </div>\r\n      <div className='relative p-6 max-w-6xl mx-auto'>\r\n        <Header />\r\n        <Tabs />\r\n        <main className='rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-4 md:p-5 shadow-xl shadow-black/30'>\r\n          {tab === 'converter' && <Converter />}\r\n          {tab === 'builder' && <Builder />}\r\n          {tab === 'images' && <ImagesTab />}\r\n          {tab === 'diff' && <DiffTab />}\r\n        </main>\r\n        <footer className='mt-6 text-xs text-gray-400 flex flex-wrap items-center gap-2'>\r\n          <span>Made for QBCore item conversion.</span>\r\n          <span className='opacity-50'>•</span>\r\n          <span>No flashing animations (epilepsy‑safe).</span>\r\n          <span className='opacity-50'>•</span>\r\n          <span>Fav accent: <span className='text-kuro-green'>#55fa9a</span></span>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}